{"version":3,"file":"app-results.js","sourceRoot":"","sources":["src/app-results.ts"],"names":[],"mappings":"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","sourcesContent":["import {LitElement, html, css} from 'lit';\r\nimport {customElement} from 'lit/decorators.js';\r\nimport {Results} from './interfaces/results';\r\nimport {UserData} from './interfaces/user-data';\r\nimport {when} from 'lit/directives/when.js';\r\n@customElement('app-results')\r\nexport class AppResults extends LitElement {\r\n  static override styles = css`\r\n    @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,500;0,600;0,700;0,800;0,900;1,500;1,900&display=swap');\r\n    :host {\r\n      display: block;\r\n      text-align: center;\r\n      font-family: 'Poppins', sans-serif;\r\n      position: fixed;\r\n      bottom: 0px;\r\n      padding-bottom: 2rem;\r\n      width: 100%;\r\n      background-color: #52a7fe;\r\n      border-radius: 4rem 4rem 0rem 0rem;\r\n      padding-top: 3rem;\r\n      transition: all 1.3s;\r\n    }\r\n    .contenedor {\r\n      display: flex;\r\n      flex-direction: column;\r\n      flex-wrap: nowrap;\r\n      align-content: center;\r\n      justify-content: center;\r\n      align-items: center;\r\n    }\r\n    button {\r\n      cursor: pointer;\r\n      width: 77%;\r\n      display: block;\r\n      font-size: 1.5rem;\r\n      padding: 1.5rem 2rem;\r\n      border-radius: 1.2rem;\r\n      border: none;\r\n      background-color: #293181;\r\n      color: rgb(255 255 255);\r\n      font-weight: bold;\r\n    }\r\n    .results-title {\r\n      font-size: 2.2rem;\r\n      color: white;\r\n      font-weight: bold;\r\n    }\r\n    .results-tr {\r\n      font-size: 1.8rem;\r\n    }\r\n    .results-tr td {\r\n      padding: 0.5rem;\r\n    }\r\n    table {\r\n      margin-bottom: 1.5rem;\r\n    }\r\n    .results-left {\r\n      text-align: left;\r\n      font-weight: bold;\r\n    }\r\n    .error-container {\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      align-items: center;\r\n      padding-left: 1rem;\r\n      padding-right: 1rem;\r\n    }\r\n    .error-container p {\r\n      max-width: 960px;\r\n      text-align: left;\r\n      font-size: 1.5rem;\r\n      line-height: 1.3;\r\n    }\r\n    a {\r\n      cursor: pointer;\r\n    }\r\n  `;\r\n\r\n  data!: UserData;\r\n  _errorExceso = false;\r\n  override render() {\r\n    const errorTmpl = html`\r\n      <div class=\"error-container\">\r\n        <p>\r\n          La suma de valores de las pretensiones indeterminadas debe ser menor o\r\n          igual al monto de contrato original objeto del arbitraje. Ingrese un\r\n          número menor de pretensiones indeterminadas.\r\n        </p>\r\n        <button @click=${() => this._navigateToBack()}>\r\n          Realizar otro cálculo\r\n        </button>\r\n      </div>\r\n    `;\r\n\r\n    const resultsTmpl = html`\r\n      <div class=\"contenedor\">\r\n        <table class=\"pdf-content\">\r\n          <tbody>\r\n            <tr>\r\n              <td class=\"results-title\" colspan=\"2\">\r\n                Gastos arbitrales correspondientes a la siguiente cuantía\r\n              </td>\r\n            </tr>\r\n            ${when(\r\n              this.data.determinated,\r\n              () => html`<tr class=\"results-tr\">\r\n                <td>Monto de Cuantía</td>\r\n                <td class=\"results-left\">\r\n                  S/ ${this.results.montoCuantia!.toFixed(2)}\r\n                </td>\r\n              </tr>`,\r\n              () => html``\r\n            )}\r\n            <tr class=\"results-tr\">\r\n              <td>Árbitro Único (*)</td>\r\n              <td class=\"results-left\">\r\n                S/ ${this.results.arbitroUnico.toFixed(2)}\r\n              </td>\r\n            </tr>\r\n            <tr class=\"results-tr\">\r\n              <td>Tribunal Arbitral (*)</td>\r\n              <td class=\"results-left\">\r\n                S/ ${this.results.tribunalArbitral.toFixed(2)}\r\n              </td>\r\n            </tr>\r\n            <tr class=\"results-tr\">\r\n              <td>Centro de Arbitraje (**)</td>\r\n              <td class=\"results-left\">\r\n                ${this.results.centroArbitraje\r\n                  ? 'S/ ' + this.results.centroArbitraje.toFixed(2)\r\n                  : ''}\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <span>(*) Monto Neto</span>\r\n        <span>(**) Monto sin IGV</span>\r\n        <a @click=${this._exportToPdf}>Exportar en pdf</a>\r\n        <button @click=${this._navigateToBack}>Realizar otro cálculo</button>\r\n      </div>\r\n    `;\r\n\r\n    if (this._errorExceso) {\r\n      return errorTmpl;\r\n    } else {\r\n      return resultsTmpl;\r\n    }\r\n  }\r\n\r\n  _navigateToBack() {\r\n    this.dispatchEvent(new CustomEvent('onBack'));\r\n  }\r\n\r\n  get results(): Results {\r\n    let results: Results;\r\n    if (this.data.determinated) {\r\n      const amount = this.data.montoCuantia!;\r\n\r\n      if (amount <= 36_000) {\r\n        results = {\r\n          montoCuantia: amount,\r\n          arbitroUnico: 2500,\r\n          tribunalArbitral: 5512,\r\n          centroArbitraje: 2500,\r\n        };\r\n      } else if (amount <= 72_000) {\r\n        results = {\r\n          montoCuantia: amount,\r\n          arbitroUnico: 3200,\r\n          tribunalArbitral: 9283,\r\n          centroArbitraje: 3200,\r\n        };\r\n      } else if (amount <= 108_000) {\r\n        results = {\r\n          montoCuantia: amount,\r\n          arbitroUnico: 4660,\r\n          tribunalArbitral: 11519,\r\n          centroArbitraje: 4_500,\r\n        };\r\n      } else if (amount <= 180_000) {\r\n        const ex = amount - 108_000;\r\n        results = {\r\n          montoCuantia: amount,\r\n          arbitroUnico: 5000 + 0.0153 * ex,\r\n          tribunalArbitral: 11_800 + 0.04 * ex,\r\n          centroArbitraje: 4_036 + 0.02 * ex,\r\n        };\r\n      } else if (amount <= 360_000) {\r\n        const ex = amount - 180_000;\r\n        results = {\r\n          montoCuantia: amount,\r\n          arbitroUnico: 7_080 + 0.006 * ex,\r\n          tribunalArbitral: 15_284 + 0.0126 * ex,\r\n          centroArbitraje: 4_607 + 0.0091 * ex,\r\n        };\r\n      } else if (amount <= 1_800_000) {\r\n        const ex = amount - 360_000;\r\n        results = {\r\n          montoCuantia: amount,\r\n          arbitroUnico: 8_518 + 0.0063 * ex,\r\n          tribunalArbitral: 18_092 + 0.015 * ex,\r\n          centroArbitraje: 5_889 + 0.0062 * ex,\r\n        };\r\n      } else if (amount <= 3_600_000) {\r\n        const ex = amount - 1_800_000;\r\n        results = {\r\n          montoCuantia: amount,\r\n          arbitroUnico: 20_408 + 0.0034 * ex,\r\n          tribunalArbitral: 42_606 + 0.0089 * ex,\r\n          centroArbitraje: 11_679 + 0.005 * ex,\r\n        };\r\n      } else {\r\n        const ex = amount - 3_600_000;\r\n        results = {\r\n          montoCuantia: amount,\r\n          arbitroUnico: 30_156 + 0.0031 * ex,\r\n          tribunalArbitral: 62_253 + 0.0043 * ex,\r\n          centroArbitraje: null,\r\n        };\r\n      }\r\n    } else {\r\n      const honorariosArbitro =\r\n        this.data.montoContratoOriginal! *\r\n        (2.7 / 100) *\r\n        this.data.pretensiones!;\r\n\r\n      const centroArbitraje =\r\n        this.data.montoContratoOriginal! *\r\n        (2.2 / 100) *\r\n        this.data.pretensiones!;\r\n\r\n      if (\r\n        honorariosArbitro > this.data.montoContratoOriginal! ||\r\n        centroArbitraje > this.data.montoContratoOriginal!\r\n      ) {\r\n        this._errorExceso = true;\r\n      }\r\n\r\n      results = {\r\n        arbitroUnico: honorariosArbitro,\r\n        tribunalArbitral: honorariosArbitro,\r\n        centroArbitraje: centroArbitraje,\r\n      };\r\n    }\r\n\r\n    return results;\r\n  }\r\n\r\n  _exportToPdf() {\r\n    const data = {\r\n      ...this.results,\r\n      determinated: this.data.determinated,\r\n    };\r\n    const params = Object.entries(data)\r\n      .map(([key, value]) => `${key}=${value}`)\r\n      .join('&');\r\n\r\n    location.href = `http://superbackend.xyz/api/pdf/acir?${params}`;\r\n  }\r\n}\r\n"]}